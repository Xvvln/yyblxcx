# 营养不良筛查与健康管理小程序 - 开发文档

> 版本：v1.2  
> 更新日期：2025年11月27日

---

## 重要提示

**开发前必读：[00-开发约束与说明.md](./00-开发约束与说明.md)**

包含：适老化策略、禁用Emoji规范、图标占位说明、暂缓实现功能清单等

---

## 文档目录

```
docs/
├── README.md                      # 本文件 - 文档索引
├── 00-开发约束与说明.md           # 【必读】开发约束与暂缓功能
│
├── 01-项目概述.md                 # 项目背景、目标、效益
├── 02-业务需求分析.md             # 业务流程、业务规则
├── 03-用户需求分析.md             # 用户角色、功能需求
├── 04-功能模块设计.md             # 7大模块详细设计
├── 05-数据规范.md                 # 数据分类、质量要求
├── 06-界面设计规范.md             # UI设计原则、参考Keep风格
├── 07-开发优先级.md               # P0-P3功能分级
│
├── 数据库设计/                    # 数据库相关
│   ├── README.md                  # ER图、表统计
│   ├── 01~09 各模块.sql
│   └── init-all.sql               # 完整初始化脚本
│
├── 08-技术栈与架构.md             # 技术选型、组件库、项目结构
├── 09-API接口规范.md              # 接口列表、响应格式
├── 10-部署方案.md                 # Nginx配置、Docker部署
├── 11-环境配置与初始化.md         # 数据库连接、初始化步骤
├── 12-多AI协作规范.md             # Gemini/Claude 协作规范
│
├── 13-后端开发文档.md             # 【新增】后端实现详情
├── 14-管理后台开发文档.md         # 【新增】Web管理端实现详情
└── 15-小程序前端开发文档.md       # 【新增】小程序前端实现详情
```

---

## 项目结构

```
项目根目录/
├── backend/                       # Python FastAPI 后端
│   ├── app/                       # 应用代码
│   │   ├── api/v1/                # 小程序端 API
│   │   ├── api/admin/             # 管理后台 API
│   │   ├── models/                # SQLAlchemy 模型
│   │   ├── schemas/               # Pydantic 数据验证
│   │   ├── services/              # 业务逻辑
│   │   └── utils/                 # 工具函数
│   ├── uploads/                   # 用户上传文件
│   ├── requirements.txt           # Python 依赖
│   └── run.py                     # 启动脚本
│
├── admin-web/                     # Vue 3 管理后台
│   ├── src/
│   │   ├── api/                   # API 接口封装
│   │   ├── store/                 # Pinia 状态管理
│   │   ├── views/                 # 页面组件
│   │   └── layout/                # 布局组件
│   └── package.json
│
├── api/                           # 小程序前端 API 封装
├── pages/                         # 小程序页面
├── stores/                        # 小程序状态管理
├── utils/                         # 小程序工具函数
│
├── docs/                          # 开发文档
├── design-references/             # 设计参考（Keep App 截图）
└── .cursorrules                   # AI 开发助手规则
```

---

## 技术栈概览

| 层级 | 技术 | 状态 |
|-----|------|------|
| 小程序前端 | uni-app + Vue 3 | ✅ 已对接 |
| UI组件库 | Wot Design Uni | ✅ 已集成 |
| Web管理端 | Vue 3 + Element Plus | ✅ 已对接 |
| 后端 | Python + FastAPI | ✅ 已实现 |
| 数据库 | MySQL 8.0 | ✅ 已初始化 |
| 缓存 | Redis | 🔜 待集成 |
| AI服务 | 阿里云百炼平台 | ✅ 已预留 |

---

## API 接口统计

### 小程序端 (`/api/v1/`)

| 模块 | 接口数 | 状态 |
|------|--------|------|
| 认证 | 2 | ✅ |
| 用户 | 5 | ✅ |
| 健康筛查 | 3 | ✅ |
| 运动 | 8 | ✅ |
| 饮食 | 6 | ✅ |
| 课程 | 5 | ✅ |
| 商城 | 4 | ✅ |
| 购物车 | 4 | ✅ |
| 订单 | 7 | ✅ |
| 优惠券 | 3 | ✅ |
| 社区 | 14 | ✅ |
| 私信 | 4 | ✅ |
| 积分 | 4 | ✅ |
| 任务 | 3 | ✅ |
| 签到 | 4 | ✅ |
| 会员 | 4 | ✅ |
| 提醒 | 4 | ✅ |
| 地址 | 5 | ✅ |
| 远程医疗 | 4 | ✅ (Mock) |
| AI助手 | 3 | ✅ |
| 通知 | 5 | ✅ |
| 轮播图 | 1 | ✅ |
| 统计 | 4 | ✅ |
| 上传 | 1 | ✅ |
| **合计** | **103** | ✅ |

### 管理后台 (`/api/admin/`)

| 模块 | 接口数 | 状态 |
|------|--------|------|
| 认证 | 3 | ✅ |
| 用户管理 | 3 | ✅ |
| 内容审核 | 4 | ✅ |
| 商品管理 | 8 | ✅ |
| 订单管理 | 4 | ✅ |
| 数据统计 | 4 | ✅ |
| 系统设置 | 6 | ✅ |
| **合计** | **32** | ✅ |

---

## 数据库概览

- **共计 38 张表**（已初始化完成）
- 数据库：`health_db`，用户：`root`，密码：`1234`
- 已注入完整测试数据
- 详见 [数据库设计/README.md](./数据库设计/README.md)
- 环境配置见 [11-环境配置与初始化.md](./11-环境配置与初始化.md)

---

## 快速开始

### 1. 启动后端

```bash
cd backend
.\venv\Scripts\activate  # Windows
source venv/bin/activate # Mac/Linux
python run.py
# 访问 http://localhost:8000/docs 查看 API 文档
```

### 2. 启动管理后台

```bash
cd admin-web
npm install
npm run dev
# 访问 http://localhost:3000
# 账号: admin / admin123
```

### 3. 启动小程序

```bash
npm run dev:mp-weixin
# 使用微信开发者工具打开 dist/dev/mp-weixin
```

---

## 开发文档导航

| 文档 | 内容 |
|------|------|
| [00-开发约束与说明](./00-开发约束与说明.md) | 开发规范、暂缓功能清单 |
| [08-技术栈与架构](./08-技术栈与架构.md) | 技术选型、组件库使用 |
| [09-API接口规范](./09-API接口规范.md) | 接口列表、响应格式 |
| [13-后端开发文档](./13-后端开发文档.md) | 后端实现详情、接口清单 |
| [14-管理后台开发文档](./14-管理后台开发文档.md) | 管理后台实现详情 |
| [15-小程序前端开发文档](./15-小程序前端开发文档.md) | 小程序实现详情 |

---

## 修改记录

| 日期 | 版本 | 修改内容 | 修改人 |
|-----|------|---------|-------|
| 2025-11-27 | v1.0 | 初始化文档结构 | - |
| 2025-11-27 | v1.1 | 添加开发约束、组件库说明、设计参考 | - |
| 2025-11-27 | v1.2 | 添加后端/管理后台/小程序开发文档 | - |
