# 二、业务需求分析

## 2.1 核心业务流程

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   用户注册   │ ──► │  健康筛查   │ ──► │  AI分析    │ ──► │  生成建议   │
└─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘
                           │                                       │
                           ▼                                       ▼
                    ┌─────────────┐                         ┌─────────────┐
                    │  数据上传   │                         │  商品推荐   │
                    │ ·硬件检测   │                         │  购买支付   │
                    │ ·面部识别   │                         └─────────────┘
                    │ ·膳食分析   │                               
                    └─────────────┘                               
```

## 2.2 模块概览

| 模块编号 | 模块名称 | 功能描述 |
|---------|---------|---------|
| M1 | 筛查模块 | 硬件筛查、风险监测、面部识别、膳食分析 |
| M2 | 康复建议 | 健康管理建议生成、膳食建议、抗阻运动建议（对接大模型） |
| M3 | 健康商城 | 食品、器械等健康产品销售 |
| M4 | 购物车 | 商品计算、支付（支付宝/微信/余额） |
| M5 | 健康管理 | 运动课程、膳食记录、运动打卡、实时监督 |
| M6 | 个人中心 | 数据上传、会员购买（月/年/终身） |
| M7 | 社区互动 | 打卡分享、日志上传、好友互动 |
| M8 | 积分激励 | 运动币、膳食币、积分兑换 |
| M9 | 远程医疗 | 对接三甲医院、医生咨询 |

## 2.3 业务规则

### 2.3.1 功能性规则

| 规则编号 | 规则描述 | 重要性 |
|---------|---------|-------|
| R01 | 健康筛查数据必须完整上传才能生成建议 | 确保建议准确可靠 |
| R02 | 大模型生成的建议属于辅助信息，非医疗诊断 | 符合医疗监管要求 |
| R03 | 商城推荐基于用户健康数据自动生成 | 保证个性化推荐精准性 |
| R04 | 积分奖励仅在真实有效的健康行为发生后发放 | 防止积分被恶意刷取 |

### 2.3.2 数据安全规则

| 规则编号 | 规则描述 | 依据 |
|---------|---------|-----|
| R05 | 用户健康数据需加密存储，不得明文展示 | 《数据安全法》《个人信息保护法》 |
| R06 | 用户可自主授权是否上传敏感信息 | 隐私权保护 |
| R07 | 用户支付信息由第三方支付平台处理 | 金融合规 |

### 2.3.3 社区互动规则

| 规则编号 | 规则描述 |
|---------|---------|
| R08 | 用户发布的内容需经过内容安全校验 |
| R09 | 用户间互动需遵循友善原则，禁止恶意攻击 |

### 2.3.4 电商交易规则

| 规则编号 | 规则描述 |
|---------|---------|
| R10 | 订单提交后需在规定时间内完成支付，超时自动取消 |
| R11 | 会员权益需在支付成功后即时生效 |
| R12 | 积分不可现金提现，仅用于兑换商城权益 |

## 2.4 数据类型分类

| 数据类型 | 格式 | 来源 | 用途 |
|---------|-----|------|-----|
| 健康检测数据 | JSON、JPEG/PNG | 用户上传、硬件采集 | 分类算法、大模型生成建议 |
| 大模型分析数据 | JSON/Markdown | AI模型实时生成 | 健康建议展示 |
| 用户行为数据 | JSON、经纬度、文本 | 用户设备上传 | 行为分析、积分奖励 |
| 电商交易数据 | 结构化JSON | 小程序+第三方支付 | 订单管理 |
| 用户账户数据 | 结构化数据库 | 用户填报、系统生成 | 身份认证、权益管理 |

## 2.5 数据质量要求

| 数据类型 | 准确性 | 完整性 | 时效性 | 安全性 |
|---------|-------|-------|-------|-------|
| 健康检测数据 | 图像清晰，数据真实有效 | 包含关键指标 | 近24小时内 | 加密存储 |
| 大模型分析数据 | 基于真实健康数据 | 包含饮食、运动、生活方式 | — | — |
| 用户行为数据 | 与设备定位一致 | — | 实时/近实时上传 | 内容安全审核 |
| 电商交易数据 | 金额、商品、库存一致 | 订单状态全链路记录 | 实时更新 | — |
| 用户账户数据 | 积分符合业务规则 | 不可缺少关键字段 | — | 敏感数据加密 |

