{"_id":"@sylphx/gust","_rev":"8-dcf5ee7b97f8774093b02e9d9cc3d7d7","name":"@sylphx/gust","dist-tags":{"latest":"0.1.7"},"versions":{"0.1.0":{"name":"@sylphx/gust","version":"0.1.0","keywords":["gust","sylphx","http","server","web","fast","wasm","bun"],"license":"MIT","_id":"@sylphx/gust@0.1.0","maintainers":[{"name":"shtse8","email":"shtse8@gmail.com"}],"dist":{"shasum":"efe379ace53af59f43f7b585fbed56eca0e9d205","tarball":"https://registry.npmjs.org/@sylphx/gust/-/gust-0.1.0.tgz","fileCount":70,"integrity":"sha512-7AHJD5oW89GHqQbmu89boMVDE88LxxtyNy0uh+eTRaOh1NgDZ4RbBdR50BnxTbX4/H28XK1r3JD76EaBweEYHQ==","signatures":[{"sig":"MEYCIQCRyKRN4YcfpoNw+JR1YOZFefuC7mK7HXvRQlC8F4QGRwIhAOiikHzGJ+Qb4S/fjjNw4DRGlOC97INbOtHWUAbFqOnF","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":703138},"main":"src/index.ts","type":"module","types":"src/index.ts","module":"src/index.ts","exports":{".":{"types":"./src/index.ts","import":"./src/index.ts","default":"./src/index.ts"}},"gitHead":"a73a6ded82a5ba6f692bdcecc9f7f76e716b0124","scripts":{"lint":"biome check .","test":"bun test","build":"bunup","format":"biome format --write .","example":"bun run examples/basic.ts","typecheck":"tsc --noEmit","prepublishOnly":"bunx @sylphx/doctor prepublish"},"_npmUser":{"name":"shtse8","email":"shtse8@gmail.com"},"_npmVersion":"10.8.2","description":"High-performance WASM-powered HTTP server framework","directories":{},"_nodeVersion":"20.19.5","dependencies":{"@sylphx/gust-core":"^0.1.0"},"_hasShrinkwrap":false,"devDependencies":{"bunup":"^0.16.10","lefthook":"^2.0.4","@sylphx/bump":"^1.0.0","@biomejs/biome":"^2.3.8","@sylphx/doctor":"^1.24.0","@sylphx/biome-config":"^0.4.0"},"_npmOperationalInternal":{"tmp":"tmp/gust_0.1.0_1764276848427_0.43872756139637237","host":"s3://npm-registry-packages-npm-production"}},"0.1.1":{"name":"@sylphx/gust","version":"0.1.1","keywords":["gust","sylphx","http","server","web","fast","wasm","bun"],"license":"MIT","_id":"@sylphx/gust@0.1.1","maintainers":[{"name":"shtse8","email":"shtse8@gmail.com"}],"dist":{"shasum":"3c1582a37d2e5f9add5dc02bf261a97b6cf4f966","tarball":"https://registry.npmjs.org/@sylphx/gust/-/gust-0.1.1.tgz","fileCount":70,"integrity":"sha512-RfKh4Cn9lQGnUq8KtsxIkgfaONlDb+QPIdGtAlMOrEDzRSqHRnnl3rpG5BedeTLC89iZTGvpZ7Xbqci21MV9/g==","signatures":[{"sig":"MEQCIDH+Tn1MJxm3tqm6s9L/aslEW6+coj4//3qzdcdmfXtrAiAVwfKPiNwaIqdfho/qxORFjGby5cNWBMn6APYY8hK/gQ==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":704766},"main":"src/index.ts","type":"module","types":"src/index.ts","module":"src/index.ts","exports":{".":{"types":"./src/index.ts","import":"./src/index.ts","default":"./src/index.ts"}},"gitHead":"5f653b3a84067fe78909f9978c23f95d7bbc2899","scripts":{"lint":"biome check .","test":"bun test","build":"bunup","format":"biome format --write .","example":"bun run examples/basic.ts","typecheck":"tsc --noEmit","prepublishOnly":"bunx @sylphx/doctor prepublish"},"_npmUser":{"name":"shtse8","email":"shtse8@gmail.com"},"_npmVersion":"10.8.2","description":"High-performance WASM-powered HTTP server framework","directories":{},"_nodeVersion":"20.19.5","dependencies":{"@sylphx/gust-core":"^0.1.1"},"_hasShrinkwrap":false,"devDependencies":{"bunup":"^0.16.10","lefthook":"^2.0.4","@sylphx/bump":"^1.0.0","@biomejs/biome":"^2.3.8","@sylphx/doctor":"^1.24.0","@sylphx/biome-config":"^0.4.0"},"_npmOperationalInternal":{"tmp":"tmp/gust_0.1.1_1764279509560_0.755378398735973","host":"s3://npm-registry-packages-npm-production"}},"0.1.2":{"name":"@sylphx/gust","version":"0.1.2","keywords":["gust","sylphx","http","server","web","fast","wasm","bun"],"license":"MIT","_id":"@sylphx/gust@0.1.2","maintainers":[{"name":"shtse8","email":"shtse8@gmail.com"}],"dist":{"shasum":"e087624f5e1c4fc00f154be9c1f23a810920d0a0","tarball":"https://registry.npmjs.org/@sylphx/gust/-/gust-0.1.2.tgz","fileCount":6,"integrity":"sha512-KMgDwO5RX5dB+zvnlBEcBjB/B8OM7xicIeBWZXR0eowZustISWHhUlom1Nk6BldTdw2ZsAD9SBym1bxc8asp1Q==","signatures":[{"sig":"MEUCIGEjiKORIM3S6CUl9R6Q6ECBOc8NXJLuHH0lRxcipD1AAiEA/cEhD0XIdNRl5B8p1jCF6S4DeWOTVAuO9blACp0YjN0=","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":209158},"main":"dist/index.js","type":"module","types":"dist/index.d.ts","module":"dist/index.js","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.js","default":"./dist/index.js"}},"gitHead":"e7bd870ca6187de468c579e6653b9208d1da0d21","scripts":{"lint":"biome check .","test":"bun test","build":"bunup","format":"biome format --write .","example":"bun run examples/basic.ts","typecheck":"tsc --noEmit","prepublishOnly":"bun run build && bunx @sylphx/doctor prepublish"},"_npmUser":{"name":"shtse8","email":"shtse8@gmail.com"},"_npmVersion":"10.8.2","description":"High-performance WASM-powered HTTP server framework","directories":{},"_nodeVersion":"20.19.5","dependencies":{"@sylphx/gust-core":"^0.1.2"},"_hasShrinkwrap":false,"devDependencies":{"bunup":"^0.16.10","lefthook":"^2.0.4","@sylphx/bump":"^1.0.0","@biomejs/biome":"^2.3.8","@sylphx/doctor":"^1.24.0","@sylphx/biome-config":"^0.4.0"},"_npmOperationalInternal":{"tmp":"tmp/gust_0.1.2_1764284269899_0.5436942893374808","host":"s3://npm-registry-packages-npm-production"}},"0.1.3":{"name":"@sylphx/gust","version":"0.1.3","keywords":["gust","sylphx","http","server","web","fast","wasm","bun"],"license":"MIT","_id":"@sylphx/gust@0.1.3","maintainers":[{"name":"shtse8","email":"shtse8@gmail.com"}],"dist":{"shasum":"feeac386d61c899d4024288c77dc4f85a0b17b28","tarball":"https://registry.npmjs.org/@sylphx/gust/-/gust-0.1.3.tgz","fileCount":5,"integrity":"sha512-4ckujZo6A8xxnnIPU6KSPuAuqWAHQ9sBZ0Qks9hx7dHHYbRp2h9QCh0UoMid0MGJJh6c6OaIBc1J3uSsmnkxjw==","signatures":[{"sig":"MEQCIC5QNnmhYDcp/OGIqD3TFXxQGDYf4wAcysG2RfQJAqvAAiAncd1LhD8kLKPLmVFuSRpYItctMSxBo6RJnjP4iXp6bA==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":208923},"main":"dist/index.js","type":"module","types":"dist/index.d.ts","module":"dist/index.js","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.js","default":"./dist/index.js"}},"gitHead":"be287f1c1ee338945254f3797bc9ae8e63ad3851","scripts":{"lint":"biome check .","test":"bun test","build":"bunup --no-splitting","format":"biome format --write .","example":"bun run examples/basic.ts","typecheck":"tsc --noEmit","prepublishOnly":"bun run build && bunx @sylphx/doctor prepublish"},"_npmUser":{"name":"shtse8","email":"shtse8@gmail.com"},"_npmVersion":"10.8.2","description":"High-performance WASM-powered HTTP server framework","directories":{},"_nodeVersion":"20.19.5","dependencies":{"@sylphx/gust-core":"^0.1.2"},"_hasShrinkwrap":false,"devDependencies":{"bunup":"^0.16.10","lefthook":"^2.0.4","@sylphx/bump":"^1.0.0","@biomejs/biome":"^2.3.8","@sylphx/doctor":"^1.24.0","@sylphx/biome-config":"^0.4.0"},"_npmOperationalInternal":{"tmp":"tmp/gust_0.1.3_1764284951225_0.5776075452577987","host":"s3://npm-registry-packages-npm-production"}},"0.1.4":{"name":"@sylphx/gust","version":"0.1.4","keywords":["gust","sylphx","http","server","web","fast","wasm","bun"],"license":"MIT","_id":"@sylphx/gust@0.1.4","maintainers":[{"name":"shtse8","email":"shtse8@gmail.com"}],"dist":{"shasum":"36d20698e69b4fd06d92c04f863af18d506ce427","tarball":"https://registry.npmjs.org/@sylphx/gust/-/gust-0.1.4.tgz","fileCount":5,"integrity":"sha512-TGrp5JKaUc01j8SsmHmsIeMJybdj2kaNRrbqfRncWLZvat8k9LnpifSG5AM7D3yPRBQlihK50ZTLb92Zo2eS3Q==","signatures":[{"sig":"MEUCIQDPfkx23wBVHS743IQTGPz5vwyO/8y/2BSxrYzI0JePQgIgbt9U6LYwYwMJXM79tb6fX7GJ4RMlqCAV12rfqD6e9o0=","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":220951},"main":"dist/index.js","type":"module","types":"dist/index.d.ts","module":"dist/index.js","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.js","default":"./dist/index.js"}},"gitHead":"dc3a809c84e829031c487738d16145f99e5eded8","scripts":{"lint":"biome check .","test":"bun test","build":"bunup --no-splitting","format":"biome format --write .","example":"bun run examples/basic.ts","typecheck":"tsc --noEmit","prepublishOnly":"bun run build && bunx @sylphx/doctor prepublish"},"_npmUser":{"name":"shtse8","email":"shtse8@gmail.com"},"_npmVersion":"10.8.2","description":"High-performance WASM-powered HTTP server framework","directories":{},"_nodeVersion":"20.19.5","dependencies":{"@sylphx/gust-core":"^0.1.6"},"_hasShrinkwrap":false,"devDependencies":{"bunup":"^0.16.10","lefthook":"^2.0.4","@sylphx/bump":"^1.0.0","@biomejs/biome":"^2.3.8","@sylphx/doctor":"^1.24.0","@sylphx/biome-config":"^0.4.0"},"_npmOperationalInternal":{"tmp":"tmp/gust_0.1.4_1764292526376_0.7629351101650563","host":"s3://npm-registry-packages-npm-production"}},"0.1.5":{"name":"@sylphx/gust","version":"0.1.5","keywords":["gust","sylphx","http","server","web","fast","wasm","bun"],"license":"MIT","_id":"@sylphx/gust@0.1.5","maintainers":[{"name":"shtse8","email":"shtse8@gmail.com"}],"dist":{"shasum":"1313d226a9c679a26a13b5af90455df6761aad1b","tarball":"https://registry.npmjs.org/@sylphx/gust/-/gust-0.1.5.tgz","fileCount":6,"integrity":"sha512-JzGs6wp+lsDq/udjIO/p4qYV3t4WcTHFnQPoR2KkBXf6bj1Gd6pDvN1NU+e41AgRHPkuzgbwDcFTcnOqPvcZ8Q==","signatures":[{"sig":"MEQCIBt/mNIBLno57GKuNX9U9hzCrgbyGdKrfo8sd2KatsTVAiA0PMRk2DR9MNRtaCrU4P9VVoYFWjnIozXrGduLjOS3DQ==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":1769879},"main":"dist/index.js","type":"module","types":"dist/index.d.ts","module":"dist/index.js","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.js","default":"./dist/index.js"}},"gitHead":"018b38fed2c134c1d541c1c1dd768b7ab769da5f","scripts":{"lint":"biome check .","test":"bun test","build":"bunup --no-splitting","format":"biome format --write .","example":"bun run examples/basic.ts","typecheck":"tsc --noEmit","prepublishOnly":"bun run build && bunx @sylphx/doctor prepublish"},"_npmUser":{"name":"shtse8","email":"shtse8@gmail.com"},"_npmVersion":"10.8.2","description":"High-performance WASM-powered HTTP server framework","directories":{},"_nodeVersion":"20.19.5","dependencies":{"@sylphx/gust-core":"^0.1.7"},"_hasShrinkwrap":false,"devDependencies":{"bunup":"^0.16.10","lefthook":"^2.0.4","@sylphx/bump":"^1.0.0","@biomejs/biome":"^2.3.8","@sylphx/doctor":"^1.24.0","@sylphx/biome-config":"^0.4.0"},"_npmOperationalInternal":{"tmp":"tmp/gust_0.1.5_1764387201330_0.2054545080235184","host":"s3://npm-registry-packages-npm-production"}},"0.1.6":{"name":"@sylphx/gust","version":"0.1.6","keywords":["gust","sylphx","http","server","web","fast","wasm","bun"],"license":"MIT","_id":"@sylphx/gust@0.1.6","maintainers":[{"name":"shtse8","email":"shtse8@gmail.com"}],"dist":{"shasum":"d06e24c335191f34bba17e887543c1e28e22429a","tarball":"https://registry.npmjs.org/@sylphx/gust/-/gust-0.1.6.tgz","fileCount":6,"integrity":"sha512-kSZMFr/U0sfUG8L6PaXGx5eEycJ/ngU72UfdUi9yGGsSC1nXgsH7GYSYeZReRAIP4Bc5nY+gleH5o80wN905sA==","signatures":[{"sig":"MEQCIFTDnh1SVevDO21cm9l/VGj7PqOXyvynK5pfVYfutYLJAiBwEeHqWty6jJ5gIIo02R4sf5bDsfDcs79P0VGtrmOX4g==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":1770265},"main":"dist/index.js","type":"module","types":"dist/index.d.ts","module":"dist/index.js","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.js","default":"./dist/index.js"}},"gitHead":"2cd56d1cb62807f1b9ab4ca8d390b8ea1d83c61b","scripts":{"lint":"biome check .","test":"bun test","build":"bunup --no-splitting","format":"biome format --write .","example":"bun run examples/basic.ts","typecheck":"tsc --noEmit","prepublishOnly":"bun run build && bunx @sylphx/doctor prepublish"},"_npmUser":{"name":"shtse8","email":"shtse8@gmail.com"},"_npmVersion":"10.8.2","description":"High-performance WASM-powered HTTP server framework","directories":{},"_nodeVersion":"20.19.5","dependencies":{"@sylphx/gust-core":"^0.1.7"},"_hasShrinkwrap":false,"devDependencies":{"bunup":"^0.16.10","lefthook":"^2.0.4","@sylphx/bump":"^1.0.0","@biomejs/biome":"^2.3.8","@sylphx/doctor":"^1.24.0","@sylphx/biome-config":"^0.4.0"},"_npmOperationalInternal":{"tmp":"tmp/gust_0.1.6_1764413351191_0.4329569169694787","host":"s3://npm-registry-packages-npm-production"}},"0.1.7":{"name":"@sylphx/gust","version":"0.1.7","description":"High-performance WASM-powered HTTP server framework","type":"module","main":"dist/index.js","module":"dist/index.js","types":"dist/index.d.ts","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.js","default":"./dist/index.js"}},"scripts":{"example":"bun run examples/basic.ts","lint":"biome check .","format":"biome format --write .","build":"bunup --no-splitting","test":"bun test","typecheck":"tsc --noEmit","prepublishOnly":"bun run build && bunx @sylphx/doctor prepublish"},"keywords":["gust","sylphx","http","server","web","fast","wasm","bun"],"license":"MIT","dependencies":{"@sylphx/gust-core":"^0.1.7"},"devDependencies":{"@biomejs/biome":"^2.3.8","@sylphx/biome-config":"^0.4.0","@sylphx/bump":"^1.0.0","@sylphx/doctor":"^1.24.0","bunup":"^0.16.10","lefthook":"^2.0.4"},"_id":"@sylphx/gust@0.1.7","gitHead":"82aefc896dbd757e5394bc4bdce779895e8d6672","_nodeVersion":"20.19.5","_npmVersion":"10.8.2","dist":{"integrity":"sha512-Fb4rUi/S2+1OK4Jjs3VzvOumfLnQOmkr5RxCd+9E45SP8vHDxO7h/TPiVJWXByEFO5aaesHlMVq23lfJcDf4kg==","shasum":"4b0b5fdd22ffe76d9bce61248ebd122cc36c7cef","tarball":"https://registry.npmjs.org/@sylphx/gust/-/gust-0.1.7.tgz","fileCount":6,"unpackedSize":1798653,"signatures":[{"keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U","sig":"MEQCIFO+nHRGDPHm4YsNx+zW602132TiQ09AY3lETufxka07AiAM5S8CpieYmcn1u3d0qeOdC6a2jXxlzEd656A9wId6hQ=="}]},"_npmUser":{"name":"shtse8","email":"shtse8@gmail.com"},"directories":{},"maintainers":[{"name":"shtse8","email":"shtse8@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/gust_0.1.7_1764416826945_0.5595591131320778"},"_hasShrinkwrap":false}},"time":{"created":"2025-11-27T20:54:08.369Z","modified":"2025-11-29T11:47:07.392Z","0.1.0":"2025-11-27T20:54:08.624Z","0.1.1":"2025-11-27T21:38:29.746Z","0.1.2":"2025-11-27T22:57:50.075Z","0.1.3":"2025-11-27T23:09:11.457Z","0.1.4":"2025-11-28T01:15:26.581Z","0.1.5":"2025-11-29T03:33:21.568Z","0.1.6":"2025-11-29T10:49:11.468Z","0.1.7":"2025-11-29T11:47:07.187Z"},"license":"MIT","keywords":["gust","sylphx","http","server","web","fast","wasm","bun"],"description":"High-performance WASM-powered HTTP server framework","maintainers":[{"name":"shtse8","email":"shtse8@gmail.com"}],"readme":"# @sylphx/gust\n\nHigh performance functional HTTP server powered by WASM.\n\n## Features\n\n- **Fast** - Native Rust server with WASM fallback, Radix Trie router\n- **Functional** - Composable middleware with `pipe()` and `compose()`\n- **Type-safe** - Full TypeScript support with path param inference\n- **Zero dependencies** - Core functionality built-in\n- **Bun-first** - Optimized for Bun runtime\n\n### Built-in Middleware\n\n| Category | Features |\n|----------|----------|\n| **Protocol** | HTTP/1.1, HTTP/2, WebSocket, SSE |\n| **Security** | CORS, CSRF, Security headers, Rate limiting |\n| **Auth** | Basic, Bearer, API Key, HMAC, JWT, Session |\n| **Performance** | Compression, Caching, Circuit breaker, Cluster |\n| **Observability** | Tracing, Logging, Health checks, OpenTelemetry |\n| **Utilities** | Validation, Body parsing, Cookies, Static files |\n\n## Installation\n\n```bash\nbun add @sylphx/gust\n```\n\n## Quick Start\n\n```typescript\nimport { serve, get, json } from '@sylphx/gust'\n\nconst routes = [\n  get('/', () => json({ message: 'Hello World' })),\n  get('/users/:id', ({ ctx }) => json({ id: ctx.params.id })),\n]\n\nserve({ routes, port: 3000 })\n```\n\n## Examples\n\n### With App Context\n\n```typescript\nimport { serve, createRouter, json, notFound } from '@sylphx/gust'\n\n// Define your app context type\ntype App = {\n  db: Database\n  user: User | null\n}\n\n// Create typed route builders\nconst { get, post } = createRouter<App>()\n\nconst routes = [\n  get('/users', ({ ctx }) => {\n    const users = ctx.app.db.getUsers()\n    return json(users)\n  }),\n\n  get('/users/:id', ({ ctx }) => {\n    const user = ctx.app.db.getUser(ctx.params.id)\n    return user ? json(user) : notFound()\n  }),\n\n  get('/profile', ({ ctx }) => {\n    return ctx.app.user\n      ? json(ctx.app.user)\n      : notFound()\n  }),\n]\n\nserve({\n  routes,\n  context: (baseCtx) => ({\n    db: createDatabase(),\n    user: getUserFromToken(baseCtx.headers.authorization),\n  }),\n  port: 3000,\n})\n```\n\n### With Middleware\n\n```typescript\nimport {\n  serve,\n  get,\n  post,\n  json,\n  compose,\n  cors,\n  compress,\n  rateLimit,\n  jwtAuth,\n  getJwtPayload,\n  parseJsonBody,\n} from '@sylphx/gust'\n\nconst routes = [\n  get('/health', () => json({ status: 'ok' })),\n  get('/me', ({ ctx }) => json(getJwtPayload(ctx))),\n  post('/posts', async ({ ctx }) => {\n    const body = await parseJsonBody(ctx)\n    return json({ created: body })\n  }),\n]\n\nserve({\n  routes,\n  middleware: compose(\n    cors(),\n    compress(),\n    rateLimit({ max: 100, window: 60000 }),\n    jwtAuth({ secret: process.env.JWT_SECRET! }),\n  ),\n  port: 3000,\n})\n```\n\n### WebSocket\n\n```typescript\nimport { serve, websocket } from '@sylphx/gust'\n\nserve({\n  port: 3000,\n  fetch: websocket({\n    open: (ws) => console.log('Connected'),\n    message: (ws, msg) => ws.send(`Echo: ${msg}`),\n    close: (ws) => console.log('Disconnected'),\n  }),\n})\n```\n\n### Streaming (SSE)\n\n```typescript\nimport { serve, get, sse } from '@sylphx/gust'\n\nconst routes = [\n  // Generator mode (pull-based) - for known sequences\n  get('/countdown', () =>\n    sse(async function* () {\n      for (let i = 10; i >= 0; i--) {\n        yield { data: { count: i } }\n        await new Promise((r) => setTimeout(r, 1000))\n      }\n    })\n  ),\n\n  // Handler mode (push-based) - for external events\n  get('/notifications', () =>\n    sse(async (emit) => {\n      emit({ data: 'connected' })\n\n      const handler = (data: unknown) => emit({ data })\n      pubsub.subscribe('updates', handler)\n\n      // Return cleanup function\n      return () => pubsub.unsubscribe('updates', handler)\n    })\n  ),\n]\n\nserve({ routes, port: 3000 })\n```\n\n### Streaming (NDJSON)\n\n```typescript\nimport { serve, get, ndjsonStream } from '@sylphx/gust'\n\nconst routes = [\n  get('/data', () =>\n    ndjsonStream(async function* () {\n      yield { id: 1, name: 'Alice' }\n      yield { id: 2, name: 'Bob' }\n      yield { id: 3, name: 'Charlie' }\n    })\n  ),\n]\n\nserve({ routes, port: 3000 })\n```\n\n### Streaming (File)\n\n```typescript\nimport { createReadStream } from 'node:fs'\nimport { serve, get, streamFile } from '@sylphx/gust'\n\nconst routes = [\n  get('/download', () =>\n    streamFile(createReadStream('./large-file.zip'), {\n      headers: { 'content-type': 'application/zip' },\n    })\n  ),\n]\n\nserve({ routes, port: 3000 })\n```\n\n### Static Files\n\n```typescript\nimport { serve, get, json, serveStatic } from '@sylphx/gust'\n\nconst routes = [\n  get('/api/hello', () => json({ hello: 'world' })),\n]\n\nserve({\n  routes,\n  fallback: serveStatic({ root: './public' }),\n  port: 3000,\n})\n```\n\n### Health Checks (Kubernetes)\n\n```typescript\nimport { serve, get, liveness, readiness, health, memoryCheck } from '@sylphx/gust'\n\nconst routes = [\n  get('/healthz', liveness()),\n  get('/ready', readiness([memoryCheck(90)])),\n  get('/health', health({ checks: [memoryCheck(90)], detailed: true })),\n]\n\nserve({ routes, port: 3000 })\n```\n\n### Validation\n\n```typescript\nimport { serve, post, json, compose, validate, object, string, email, number, getValidated } from '@sylphx/gust'\n\nconst routes = [\n  post('/users', compose(\n    validate({\n      body: object({\n        name: string({ minLength: 1 }),\n        email: email(),\n        age: number({ min: 0 }),\n      }),\n    }),\n    async ({ ctx }) => {\n      const data = getValidated(ctx)\n      return json({ user: data })\n    }\n  )),\n]\n\nserve({ routes, port: 3000 })\n```\n\n### Session & CSRF\n\n```typescript\nimport { serve, get, post, html, json, compose, session, csrf, getCsrfToken, getSession } from '@sylphx/gust'\n\nconst routes = [\n  get('/form', ({ ctx }) => html(`\n    <form method=\"POST\" action=\"/submit\">\n      <input type=\"hidden\" name=\"_csrf\" value=\"${getCsrfToken(ctx)}\">\n      <button type=\"submit\">Submit</button>\n    </form>\n  `)),\n\n  post('/submit', ({ ctx }) => {\n    const sess = getSession(ctx)\n    sess.data.visits = ((sess.data.visits as number) || 0) + 1\n    return json({ visits: sess.data.visits })\n  }),\n]\n\nserve({\n  routes,\n  middleware: compose(\n    session({ secret: 'your-secret' }),\n    csrf({ secret: 'csrf-secret' }),\n  ),\n  port: 3000,\n})\n```\n\n### Circuit Breaker\n\n```typescript\nimport { serve, get, json, compose, circuitBreaker } from '@sylphx/gust'\n\nconst routes = [\n  get('/external', compose(\n    circuitBreaker({\n      failureThreshold: 5,\n      resetTimeout: 30000,\n    }),\n    async () => {\n      const res = await fetch('https://api.example.com/data')\n      return json(await res.json())\n    }\n  )),\n]\n\nserve({ routes, port: 3000 })\n```\n\n### OpenTelemetry\n\n```typescript\nimport { serve, get, json, compose, otel, createTracer, consoleExporter } from '@sylphx/gust'\n\nconst tracer = createTracer(consoleExporter)\n\nconst routes = [\n  get('/', () => json({ hello: 'world' })),\n]\n\nserve({\n  routes,\n  middleware: otel({ tracer }),\n  port: 3000,\n})\n```\n\n### Cluster Mode\n\n```typescript\nimport { clusterServe, get, json } from '@sylphx/gust'\n\nconst routes = [\n  get('/', () => json({ pid: process.pid })),\n]\n\nclusterServe({\n  routes,\n  port: 3000,\n  workers: 4,\n})\n```\n\n## API Reference\n\n### Handler Signature\n\nAll route handlers receive `{ ctx, input }`:\n\n```typescript\nimport { get, json } from '@sylphx/gust'\n\nget('/users/:id', ({ ctx, input }) => {\n  // ctx.method      - HTTP method\n  // ctx.path        - Request path\n  // ctx.query       - Query string\n  // ctx.headers     - Request headers\n  // ctx.params      - Path parameters (typed!)\n  // ctx.body        - Request body (Buffer)\n  // ctx.json<T>()   - Parse JSON body\n  // ctx.app         - User-defined context\n\n  return json({ id: ctx.params.id })\n})\n```\n\n### Context Types\n\n```typescript\nimport { serve, createRouter, type Context, type BaseContext } from '@sylphx/gust'\n\n// BaseContext - HTTP request data (library-provided)\ntype BaseContext = {\n  readonly method: string\n  readonly path: string\n  readonly query: string\n  readonly headers: Record<string, string>\n  readonly params: Record<string, string>\n  readonly body: Buffer\n  readonly json: <T>() => T\n}\n\n// Context<App> - BaseContext + user's app context\ntype Context<App> = BaseContext & { readonly app: App }\n\n// Define your app type\ntype App = { db: Database; user: User | null }\n\n// Create typed routes\nconst { get, post } = createRouter<App>()\n\n// ctx.app.db and ctx.app.user are fully typed\nconst route = get('/users', ({ ctx }) => json(ctx.app.db.getUsers()))\n```\n\n### Response Helpers\n\n```typescript\nimport { json, text, html, redirect, notFound, badRequest, unauthorized, forbidden, serverError } from '@sylphx/gust'\n\njson({ data: 'value' })           // application/json\ntext('Hello')                      // text/plain\nhtml('<h1>Hello</h1>')            // text/html\nredirect('/new-path')              // 302 redirect\nredirect('/new-path', 301)         // 301 redirect\nnotFound()                         // 404\nbadRequest()                       // 400\nunauthorized()                     // 401\nforbidden()                        // 403\nserverError()                      // 500\n```\n\n### Streaming Helpers\n\n```typescript\nimport { sse, streamText, ndjsonStream, streamFile } from '@sylphx/gust'\n\n// Server-Sent Events (unified API)\nsse(async function* () {\n  yield { data: 'hello', id: '1' }\n  yield { data: { json: true }, event: 'update' }\n})\n\n// Or with push-based handler\nsse(async (emit) => {\n  emit({ data: 'connected' })\n  return () => cleanup()\n})\n\n// Plain text streaming\nstreamText(async function* () {\n  yield 'Hello '\n  yield 'World!'\n})\n\n// Newline-delimited JSON\nndjsonStream(async function* () {\n  yield { id: 1, name: 'Alice' }\n  yield { id: 2, name: 'Bob' }\n})\n\n// File streaming\nstreamFile(createReadStream('./file.zip'))\n```\n\n### Composition\n\n```typescript\nimport { compose, pipe } from '@sylphx/gust'\n\n// compose: right-to-left (outer to inner)\nconst middleware = compose(cors(), compress(), handler)\n\n// pipe: left-to-right (first to last)\nconst middleware = pipe(handler, compress(), cors())\n```\n\n### Route Grouping\n\n```typescript\nimport { get, post, routes, json, text } from '@sylphx/gust'\n\n// Prefix routes with a path segment\nconst memberRoutes = routes('/members', [\n  get('/', () => json(getAll())),\n  get('/:id', ({ ctx }) => json(getOne(ctx.params.id))),\n  post('/', () => json(create())),\n])\n\n// Nested routes\nconst adminRoutes = routes('/admin', [\n  get('/dashboard', () => text('dashboard')),\n  ...routes('/users', [\n    get('/', () => text('list')),       // /admin/users\n    get('/:id', () => text('show')),    // /admin/users/:id\n  ]),\n])\n\nserve({\n  routes: [\n    get('/', () => json({ home: true })),\n    ...memberRoutes,\n    ...adminRoutes,\n  ],\n  port: 3000,\n})\n```\n\n### Type-Safe Routes\n\n```typescript\nimport { get, createRouter, json } from '@sylphx/gust'\n\n// Simple routes (no app context)\nconst user = get('/users/:id', ({ ctx }) => {\n  ctx.params.id  // string (type-safe!)\n  return json({ id: ctx.params.id })\n})\n\n// With app context (explicit type)\ntype App = { db: Database }\nconst users = get<App>('/users', ({ ctx }) => {\n  ctx.app.db  // Database (typed!)\n  return json(ctx.app.db.getUsers())\n})\n\n// Or use createRouter factory (type currying)\nconst { get: typedGet, routes: typedRoutes } = createRouter<App>()\n\nconst memberRoutes = typedRoutes('/members', [\n  typedGet('/', ({ ctx }) => json(ctx.app.db.getMembers())),\n  typedGet('/:id', ({ ctx }) => json(ctx.app.db.getMember(ctx.params.id))),\n])\n```\n\n## License\n\nMIT\n\n---\n\nBuilt with [Sylphx](https://github.com/SylphxAI)\n","readmeFilename":"README.md"}